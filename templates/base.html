<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PAWssion</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body class="bg-img">
    {% if request.endpoint == 'index' %}
        <div id="loader">
            <div class="loader-bg"></div> <!-- blurred background -->
            <img src="{{ url_for('static', filename='icon/pawssion.png') }}" alt="Logo" class="loader-logo">
        </div>
    {% endif %}

<header>
    <div class="header-left">
            {% if request.endpoint != 'index' %}
                <img src="{{ url_for('static', filename='icon/pawssion.png') }}" 
                    alt="PAWssion Logo" class="logo">
                <h1>PAWssion Project: Find. Adopt. Love</h1>
            {% endif %}
    </div>
    <nav>
        {% if session.role%}

            {% if session.role == 'user' %}
                <a href="{{ url_for('user_dashboard') }}">Home</a>

            {% elif session.role == 'admin' %}
                <a href="{{ url_for('admin_dashboard') }}">Home</a>

            {% else %}
                <a href="{{ url_for('shelter_dashboard') }}">Home</a>
            {% endif %}
            <a href="{{ url_for('logout') }}">Logout</a>
            
            {% else %}

            {% if request.endpoint != 'index' %}
                <!-- Home shown only when NOT logged in AND not on index -->
                <a href="{{ url_for('index') }}">Home</a>
            {% endif %}

        {% endif %}
    </nav>

</header>

 <main>
        {% block content %}
        <!-- individual page content goes here -->
        {% endblock %}
 </main>

<!-- FLASH MESSAGES AREA -->
<div class="flash-container">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
</div>


<!-- FOOTER -->
<footer >
    <p>&copy; {{ current_year or "2025" }} PAWssion Project. All rights reserved.</p>
</footer>


<script src="{{ url_for('static', filename='loader_paw.js') }}"></script>

</body>
</html>